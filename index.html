<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@4.4.23/dist/full.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css" />

    <title>Hello, world!</title>
    <style>
      .navbar {
        position: fixed;
        top: 0;
        width: 100%;
        transition: all 0.5s;
        z-index: 999;
      }

      .navbar.hide {
        top: -100px;
      }

      .navbar.show {
        background: rgba(
          234,
          88,
          12,
          0.7
        ); /* Ganti dengan warna yang Anda inginkan */
      }

      .card-title {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="navbar bg-orange-600 text-white px-10">
        <div class="flex-1">
          <img class="h-16" src="suitmedia-logo.png" alt="" />
        </div>
        <div class="flex-none">
          <ul class="menu menu-horizontal px-1">
            <li><a>Work</a></li>
            <li><a>About</a></li>
            <li><a>Service</a></li>
            <li><a class="active">Ideas</a></li>
            <li><a>Careers</a></li>
            <li><a>Contact</a></li>
          </ul>
        </div>
      </div>
      <div class="content w-screen h-screen">
        <div class="position:relative hero-img w-screen h-1/2 mt-10">
          <img src="hero.jpg" alt="" class="position:absolute" loading="lazy" />
          <h1 class="self-center">Halooo</h1>
        </div>

        <div class="card-content p-10">
          <div class="filter w-100 flex justify-between">
            <div class="left">
              <p>showing <span class="range-content"></span> of <span class="sum-content"></span></p>
            </div>
            <div class="right flex">
              <p class="self-center me-2">show per page:</p>
              <select
                class="sum-page select select-bordered w-25 max-w-xs me-4"
              >
                <option value="10" selected>10</option>
                <option value="20">20</option>
                <option value="50">50</option>
              </select>
              <p class="self-center me-2">short by:</p>
              <select class="sort select select-bordered w-25 max-w-xs me-4">
                <option selected value="newest">Newest</option>
                <option value="latest">Latest</option>
              </select>
            </div>
          </div>
          <div style="display: none;" class="mt-28 loader grid grid-cols-4 gap-4">
            <div
              role="status"
              class="max-w-sm p-4 w-80 shadow animate-pulse md:p-6 dark:border-gray-700"
            >
              <div
                class="flex items-center justify-center h-48 mb-4 bg-gray-300 rounded dark:bg-gray-700"
              >
                <svg
                  class="w-10 h-10 text-gray-200 dark:text-gray-600"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 16 20"
                >
                  <path
                    d="M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"
                  />
                  <path
                    d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"
                  />
                </svg>
              </div>
              <div
                class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"
              ></div>
              <div
                class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"
              ></div>
              <div
                class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"
              ></div>
              <div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700"></div>
              <span class="sr-only">Loading...</span>
            </div>
            <div
              role="status"
              class="max-w-sm p-4 w-80  shadow animate-pulse md:p-6 dark:border-gray-700"
            >
              <div
                class="flex items-center justify-center h-48 mb-4 bg-gray-300 rounded dark:bg-gray-700"
              >
                <svg
                  class="w-10 h-10 text-gray-200 dark:text-gray-600"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 16 20"
                >
                  <path
                    d="M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"
                  />
                  <path
                    d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"
                  />
                </svg>
              </div>
              <div
                class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"
              ></div>
              <div
                class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"
              ></div>
              <div
                class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"
              ></div>
              <div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700"></div>
              <span class="sr-only">Loading...</span>
            </div>
            <div
              role="status"
              class="max-w-sm p-4 w-80  shadow animate-pulse md:p-6 dark:border-gray-700"
            >
              <div
                class="flex items-center justify-center h-48 mb-4 bg-gray-300 rounded dark:bg-gray-700"
              >
                <svg
                  class="w-10 h-10 text-gray-200 dark:text-gray-600"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 16 20"
                >
                  <path
                    d="M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"
                  />
                  <path
                    d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"
                  />
                </svg>
              </div>
              <div
                class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"
              ></div>
              <div
                class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"
              ></div>
              <div
                class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"
              ></div>
              <div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700"></div>
              <span class="sr-only">Loading...</span>
            </div>
            <div
              role="status"
              class="max-w-sm p-4 w-80  shadow animate-pulse md:p-6 dark:border-gray-700"
            >
              <div
                class="flex items-center justify-center h-48 mb-4 bg-gray-300 rounded dark:bg-gray-700"
              >
                <svg
                  class="w-10 h-10 text-gray-200 dark:text-gray-600"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 16 20"
                >
                  <path
                    d="M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"
                  />
                  <path
                    d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"
                  />
                </svg>
              </div>
              <div
                class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"
              ></div>
              <div
                class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"
              ></div>
              <div
                class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"
              ></div>
              <div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700"></div>
              <span class="sr-only">Loading...</span>
            </div>
          </div>
          <div class="my-28 card-wrap grid grid-cols-4 gap-4"></div>
          <div class="paginate w-100 flex justify-center">
            <div class="join">
              <input class="join-item btn btn-square" type="radio" name="options" value="1" aria-label="1" checked />
              <input class="join-item btn btn-square" type="radio" name="options" value="2" aria-label="2" />
              <input class="join-item btn btn-square" type="radio" name="options" value="3" aria-label="3" />
              <input class="join-item btn btn-square" type="radio" name="options" value="4" aria-label="4" />
              <input class="join-item btn btn-square" type="radio" name="options" value="5" aria-label="5" />

            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>

    <script>
      let data;
      let page = 1;
      let sum_page = 10;
      let sort = "newest";
      let last = 0;

      $.ajax({
        type: "get",
        url: "https://suitmedia-backend.suitdev.com/api/ideas",
        dataType: "json",
        success: function (response) {
          var data = response.data;
          last = data[0]["id"];
          $(".sum-content").html(last);
        }
      });

      $(document).ready(function () {
        function update(page, sum_page, sort) {
          if (sort == "newest") {
            sort = "-published_at";
          } else {
            sort = "published_at";
          }
          $(".loader").show();
          $(".card-wrap").html("");
          $(".range-content").html(`${page} - ${sum_page}`);


          $.ajax({
            type: "get",
            url: "https://suitmedia-backend.suitdev.com/api/ideas",
            dataType: "json",
            data: {
              "page[number]": page,
              "page[size]": sum_page,
              sort: sort,
            },
            success: function (response) {
              data = response.data;
              console.log(response.links);

              // var init_paginate = `<input class="join-item btn btn-square" type="radio" name="options" value="1" aria-label="1" checked />`;
              // $(".join").append(init_paginate);

              var months = [
                "Januari",
                "Februari",
                "Maret",
                "April",
                "Mei",
                "Juni",
                "Juli",
                "Agustus",
                "September",
                "Oktober",
                "November",
                "Desember",
              ];

              $.each(data, function (index, item) {
                var date = new Date(item["updated_at"]);
                var day = date.getDate();
                var monthIndex = date.getMonth();
                var year = date.getFullYear();

                var monthName = months[monthIndex];

                var formattedDate = day + " " + monthName + " " + year;

                console.log(item["updated_at"]);

                var card = `<div class="card w-80 bg-base-100 shadow-xl">
                    <figure><img loading="lazy" src="https://daisyui.com/images/stock/photo-1606107557195-0e29a4b5b4aa.jpg" alt="Shoes" /></figure>
                    <div class="card-body">
                      <h3 >${formattedDate}</h2>
                      <h2 class="card-title">${item["title"]}</p>
                    </div>
                  </div>`;
                $(".card-wrap").append(card);

                

                console.log(index);
              });
            },
            complete: function () {
              $(".loader").hide();
            },
          });
        }

        $(function () {
          var lastScrollTop = 0;
          $(window).scroll(function (event) {
            var st = $(this).scrollTop();
            if (st > lastScrollTop) {
              $(".navbar").removeClass("show").addClass("hide");
            } else {
              if (st == 0) {
                $(".navbar").removeClass("show");
              } else {
                $(".navbar").removeClass("hide").addClass("show");
              }
            }
            lastScrollTop = st;
          });
        });

        $(".sum-page").change(function () {
          sum_page = $(this).val();
          update(page, sum_page, sort);
        });
        $(".sort").change(function () {
          sort = $(this).val();
          update(page, sum_page, sort);
        });
        $(".join-item").change(function () {
          page = $(this).val();
          update(page, sum_page, sort);
        });


        update(page, sum_page, sort);
      });
    </script>
  </body>
</html>
